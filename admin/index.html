<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../styles.css" />
  <link rel="icon" type="image/png" href="../favicon.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script defer src="admin.js"></script>
</head>
<body>
  <header>
    <nav>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/projects/">Projects</a>
        <a href="/resume/">Resume</a>
        <a href="/admin/">Admin</a>
      </div>
      <div class="toggle-switch">
        <label class="switch">
          <input type="checkbox" id="mode-toggle" />
          <span class="slider"></span>
        </label>
      </div>
    </nav>
  </header>

  <!-- Blur Login Overlay -->
  <div id="blur-overlay">
    <div class="auth-popup">
      <h2>Admin Login</h2>
      <input type="password" id="overlay-password" placeholder="Enter admin password" />
      <button id="overlay-submit">Enter</button>
      <p id="auth-error" style="color: red; display: none;">Incorrect password</p>
    </div>
  </div>

  <!-- Admin Panel -->
  <main class="admin-container">
    <h1>Admin Panel</h1>

    <section id="admin-panel" class="admin-hidden">
      <h2>Projects</h2>
      <div id="project-list"></div>

      <h3>Add New Project</h3>
      <form id="add-form" class="admin-form">
        <input type="text" id="title" placeholder="Title" required />
        <input type="text" id="type" placeholder="Type" required />
        <textarea id="description" placeholder="Description" required></textarea>
        <button type="submit">Add Project</button>
      </form>
    </section>
  </main>

  <script>
    // Dark Mode
    const toggle = document.getElementById("mode-toggle");
    if (localStorage.getItem("darkMode") === "enabled") {
      document.body.classList.add("dark-mode");
      toggle.checked = true;
    }
    toggle.addEventListener("change", () => {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("darkMode", document.body.classList.contains("dark-mode") ? "enabled" : "disabled");
    });
  </script>
</body>
</html>
